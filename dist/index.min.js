/*!
 * name: @jswork/next-slate-serialize
 * description: Serializing/deserializing html/text for slate.
 * homepage: https://github.com/afeiship/next-slate-serialize
 * version: 1.0.0
 * date: 2021-01-24 18:27:31
 * license: MIT
 */
!function(){var r=("undefined"!=typeof window?window:this||Function("return this")()).nx||require("@jswork/next"),t=r.isPlainObject||require("@jswork/next-is-plain-object"),o={process:r.stubValue,joined:"\n"},e=r.declare("nx.SlateSerialize",{statics:{serialize:function(e,n){var i=r.mix(null,o,n);if(t(n=e)&&"string"==typeof n.text)return e.text;n=e.children.map(function(e){return this.serialize(e,i)},this).join(i.joined);return i.process(e,n)},deserialize:function(e,n){var i=r.mix(null,o,n),t=this,n=e||document.body,e=[];return 3===n.nodeType?n.textContent:1!==n.nodeType?null:(e=r.slice(n.childNodes).map(function(e){return t.deserialize(e,i)}),i.process(n,e))},stringify:function(e,n){var i=this,t=r.mix(null,o,n);return e.map(function(e){return i.serialize(e,n)}).join(t.joined)},parse:function(e,n){e=(new DOMParser).parseFromString(e,"text/html");return this.deserialize(e.body,n)}}});"undefined"!=typeof module&&module.exports&&(module.exports=e)}();