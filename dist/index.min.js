/*!
 * name: @jswork/next-slate-serialize
 * description: Serializing/deserializing html/text for slate.
 * homepage: https://github.com/afeiship/next-slate-serialize
 * version: 1.0.0
 * date: 2021-01-24 18:03:11
 * license: MIT
 */
!function(){var t=("undefined"!=typeof window?window:this||Function("return this")()).nx||require("@jswork/next"),r=t.isPlainObject||require("@jswork/next-is-plain-object"),o={process:t.stubValue,joined:"\n"},e=t.declare("nx.SlateSerialize",{statics:{serialize:function(e,n){var i=t.mix(null,o,n);if(r(n=e)&&"string"==typeof n.text)return e.text;n=e.children.map(function(e){return this.serialize(e,i)},this).join(i.joined);return i.process(e,n)},deserialize:function(e,n){var i=t.mix(null,o,n),n=e||document.body;if(3===n.nodeType)return n.textContent;if(1!==n.nodeType)return null;console.log(n);e=t.slice(n.childNodes).map(function(e){return this.deserialize(e,i)},this);return i.process(n,e)},stringify:function(e,n){var i=t.mix(null,o,n);return e.map(function(e){return this.serialize(e,n)},this).join(i.joined)},parse:function(e,n){e=(new DOMParser).parseFromString(e,"text/html");return this.deserialize(e.body,n)}}});"undefined"!=typeof module&&module.exports&&(module.exports=e)}();